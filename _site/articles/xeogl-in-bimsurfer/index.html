<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>xeogl in BIMSurfer &#8211; xeolabs</title>
<meta name="description" content="Supercharging your BIM">
<meta name="keywords" content="xeogl, bimsurfer, webgl">
<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://xeolabs.com/images/">
<meta name="twitter:title" content="xeogl in BIMSurfer">
<meta name="twitter:description" content="Supercharging your BIM">
<meta name="twitter:creator" content="@xeographics">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="xeogl in BIMSurfer">
<meta property="og:description" content="Supercharging your BIM">
<meta property="og:url" content="http://xeolabs.com/articles/xeogl-in-bimsurfer">
<meta property="og:site_name" content="xeolabs">





<link rel="canonical" href="http://xeolabs.com/articles/xeogl-in-bimsurfer">
<link href="http://xeolabs.com/feed.xml" type="application/atom+xml" rel="alternate" title="xeolabs Feed">
<link rel="author" href="https://plus.google.com/u/0/110983138227486752827/posts?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="http://xeolabs.com/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="http://xeolabs.com/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://xeolabs.com/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://xeolabs.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://xeolabs.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://xeolabs.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://xeolabs.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://xeolabs.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://xeolabs.com/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="article" itemscope itemtype="http://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://xeolabs.com">xeolabs</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="http://xeolabs.com/about" >About</a></li>
		        
				<li><a href="http://xeolabs.com/articles" >Articles</a></li>
		        
				<li><a href="http://scenejs.org" target="_blank">SceneJS</a></li>
		        
				<li><a href="http://xeogl.org" target="_blank">xeogl</a></li>
		        
				<li><a href="http://biodigitalhuman.com" target="_blank">BioDigitalHuman</a></li>
		        
				<li><a href="http://bimsurfer.org" target="_blank">BIMSurfer</a></li>
		        

		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
  <div class="article-author-top">
    <img src="http://xeolabs.com/images/skullavatar.jpg" class="bio-photo" alt="@xeolabs bio photo"></a>
<h3><a href="http://xeolabs.com/about/">@xeolabs</a></h3>
<p>Lindsay Kay<br>3D visualization app/engine developer</p>
<a href="http://twitter.com/xeographics" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>

<a href="https://plus.google.com/u/0/110983138227486752827/posts" class="author-social" target="_blank"><i class="icon-google-plus"></i> Google+</a>
<a href="http://linkedin.com/in/lindsaystanleykay" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>

<a href="http://github.com/xeolabs" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>


  </div>
  <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
    <div class="headline-wrap">
      <h1 itemprop="name">xeogl in BIMSurfer</h1>
        <br>
      <!--<h2>Supercharging your BIM</h2>-->
    </div><!--/ .headline-wrap -->
    <div class="article-wrap" itemprop="text">
      <section id="table-of-contents" class="toc">
  <header>
    <h3>Contents</h3>
  </header>
<div id="drawer">
<ul id="markdown-toc">
  <li><a href="#history" id="markdown-toc-history">History</a></li>
  <li><a href="#bimsurfer-requirements" id="markdown-toc-bimsurfer-requirements">BIMSurfer requirements</a>    <ul>
      <li><a href="#responsiveness" id="markdown-toc-responsiveness">Responsiveness</a></li>
    </ul>
  </li>
  <li><a href="#future-extension" id="markdown-toc-future-extension">Future extension</a></li>
  <li><a href="#get-involved" id="markdown-toc-get-involved">Get involved!</a></li>
</ul>

  </div>
</section>
<!-- /#table-of-contents -->

<p>Last week I integrated the latest build of <a href="http://xeogl.org">xeogl</a> into <a href="http://bimsurfer.org">BIMSurfer</a>.<br /><br />xeogl is an 
 open source WebGL-based 3D visualization engine I’ve been working on, and BIMSurfer is an open source tool 
 for Web-based visualization and evaluation of Building Information Models (BIM). Here’s my first blog post on these adventures.
 <br /></p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/tCHwEA2HqU8" frameborder="0" allowfullscreen=""></iframe>

<h2 id="history">History</h2>

<p>First, a little history. BIMSurfer’s WebGL-based 3D viewer has been through a few evolutions, so it’s been an ongoing tag-team effort in which each evolution 
 has built upon lessons learned from the previous one. 
 <br /><br />
 <a href="https://twitter.com/RehnoLindeque">Rehno Lindeque</a> started things off 
 with the first version in 2011, which he implemented as a facade class wrapping a <a href="http://scenejs.org">SceneJS</a> scene graph.
  <a href="robert.zach@tuwien.ac.at">Robert Zach</a>, <a href="mailchriska@gmail.com">Kaltenriner Christoph</a> 
 and <a href="leichtfried.michael@gmail.com">Leichtfried Michael</a> from TU Vienna then added more enhancements in 2012. 
 <br /><br />
 After Rehno moved on to become <a href="https://circuithub.com/">CircuitHub</a>’s chief WebGL-wrangler, <a href="https://twitter.com/bryandenijs">Bryan de Nijs</a> 
 started the next version of the 3D viewer 2014, again on SceneJS, but this time as a collection of pluggable components that wrapped portions of 
 the underlying SceneJS scene graph.
 <br /><br />
 Bryan handed the viewer over to me in 2015. From grokking Bryan’s design I realised that for applications like BIMSurfer, 
  the underlying WebGL engine should ideally have an object-component-based API. And so this is how xeogl came about - initially 
  as a bunch of components wrapping SceneJS, then later as a completely new WebGL engine, stripped down to the essentials for 
  fast CAD-like visualization.  <br />
 <br />
 Finally, behind the scenes there is <a href="http://bimserver.org/">BIMServer</a>, which serves IFC models to BIMSurfer as 
 binary streams over WebSockets. The principle developers of BIMServer are <a href="https://github.com/aothms">Thomas Krijnen</a> (who also handles various UI elements), <a href="https://github.com/rubendel">Ruben de Laat</a> and <a href="https://github.com/berlotti">Leon van Berlo</a> (who is also overall project leader).</p>

<h2 id="bimsurfer-requirements">BIMSurfer requirements</h2>

<p>BIMSurfer has certain requirements which are valuable for shaping and testing xeogl, such as:</p>

<ul>
  <li>fast rendering of <a href="http://xeogl.org/examples/#profiling_statistics">large numbers of independently transformed geometries</a></li>
  <li>efficient queries for boundaries of objects, so that we can <a href="http://xeogl.org/examples/#animation_CameraFlightAnimation_AABB">fly the camera to look at them</a></li>
  <li>extensible camera animation and control components, like <a href="http://xeogl.org/examples/#interaction_BIMCameraControl">xeogl.BIMCameraControl</a></li>
</ul>

<h3 id="responsiveness">Responsiveness</h3>

<p>To keep applications like BIMSurfer from locking up while loading monstrous amounts of content, xeogl defers all scene updates (eg. creation of 
scene entities, generation of geometries, shader allocations, matrix updates etc) to a FIFO task queue, then executes 
a few tasks from the queue before it renders each frame. By amortizing the cost of updates across many frames like this, 
xeogl also prevents WebGL from freaking out and thinking that it’s running on a potato, which may cause it to lock 
FPS down to a lower rate. In the screen capture above, we’re loading a test model containing around 3500 objects. While 
those are loading, we can still show and hide things, rotate the model, and so forth.</p>

<p><br />
I learned this technique from the excellent article <em>Rendering Optimizations in 
the Turbulenz Engine</em> by <a href="https://twitter.com/davidgaleano">David Galeano</a>, which you can read 
in <a href="https://www.amazon.com/WebGL-Insights-Patrick-Cozzi/dp/1498716075">WebGL Insights</a>.</p>

<h2 id="future-extension">Future extension</h2>

<p>Using an open source 3D engine within an app like BIMSurfer has the advantage that all functionality that gets added to the engine 
 is then automatically available to the app. xeogl has a growing library of plugin components that we can easily drop into our apps 
 to add more functionality. I’m not sure exactly how many of these overlap with BIMSurfer’s roadmap, but a few possibilities might be:</p>

<ul>
  <li>Loading glTF BIM models using the <a href="http://xeogl.org/docs/classes/GLTFModel.html">xeogl.GLTFModel</a> component</li>
  <li>WebVR and Cardboard effect components (in progress)</li>
  <li>Rendering on zSpace VR displays using the <a href="http://xeogl.org/docs/classes/ZSpaceEffect.html">xeogl.ZSpaceEffect</a> component</li>
  <li>Walkthroughs with camera waypoints using the <a href="http://xeogl.org/docs/classes/CameraPathAnimation.html">xeogl.CameraPathAnimation</a> component</li>
</ul>

<p>A couple of features are on the drawing board for xeogl’s rendering core, which will be great to have in BIMSurfer:</p>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Order-independent_transparency">order-independent transparency</a>, and</li>
  <li><a href="https://en.wikipedia.org/wiki/Shadow_mapping">shadow mapping</a></li>
</ul>

<p>Right now, however, the plain old CAD-ish geometric features are xeogl’s priority.</p>

<h2 id="get-involved">Get involved!</h2>

<p>The best way contribute to BIMSurfer is to fork the <a href="https://github.com/opensourcebim/BIMsurfer">repository at GitHub</a>.
We also use the <a href="support.opensourcebim.org">community forum</a> from the open source BIM collective. Feel free to interact 
with other developers to help answer your questions. Then prepare a new branch with a new feature and post a pull request. 
We will review your code and commit it into the official BIM Surfer code base. Alternatively you can also attach a patch 
into our <a href="https://github.com/opensourcebim/BIMsurfer/issues">issue tracker</a>.</p>


      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          <img src="http://xeolabs.com/images/skullavatar.jpg" class="bio-photo" alt="@xeolabs bio photo"></a>
<h3><a href="http://xeolabs.com/about/">@xeolabs</a></h3>
<p>Lindsay Kay<br>3D visualization app/engine developer</p>
<a href="http://twitter.com/xeographics" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>

<a href="https://plus.google.com/u/0/110983138227486752827/posts" class="author-social" target="_blank"><i class="icon-google-plus"></i> Google+</a>
<a href="http://linkedin.com/in/lindsaystanleykay" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>

<a href="http://github.com/xeolabs" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>


        </div>
        <p class="byline"><strong>xeogl in BIMSurfer</strong> was published on <time datetime="2016-11-30T00:00:00-05:00" itemprop="datePublished">November 30, 2016</time> and last modified on <time datetime="2016-19-09" itemprop="dateModified">2016-19-09</time> by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name"><a href="http://xeolabs.com/about" title="About @xeolabs" itemprop="url">@xeolabs</a></span></span>.</p>
      </footer>

        
        <br><br>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'xeolabs'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        
    </div><!-- /.article-wrap -->
  </article>

</div><!-- /#main -->



<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://xeolabs.com/articles">View all articles</a>)</small></h4>
    <ul>
    
      
      
        
          
        
      
      
      <li><a href="http://xeolabs.com/articles/scenejs4-release" title="SceneJS v4.0 Released">SceneJS v4.0 Released</a></li>
      
    
      
      
        
          
        
      
      
      <li><a href="http://xeolabs.com/articles/scenejs-reflection" title="Reflective Surfaces in SceneJS">Reflective Surfaces in SceneJS</a></li>
      
    
      
      
        
          
        
      
      
      <li><a href="http://xeolabs.com/articles/scenejs-transparency" title="Transparency in SceneJS">Transparency in SceneJS</a></li>
      
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2016 @xeolabs. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://xeolabs.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://xeolabs.com/assets/js/scripts.min.js"></script>


<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'xeolabs'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</body>
</html>
